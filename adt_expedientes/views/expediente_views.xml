<odoo>

    <!-- POPUP FOTO -->
    <record id="view_foto_vivienda_popup" model="ir.ui.view">
        <field name="name">foto.vivienda.popup</field>
        <field name="model">adt.expediente</field>
        <field name="arch" type="xml">
            <form string="Foto de vivienda">
                <sheet>
                    <group>
                        <field name="foto_vivienda" widget="image"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>


    <!-- POPUP FOTO INGRESOS -->
    <record id="view_foto_ingresos_popup" model="ir.ui.view">
        <field name="name">foto.ingresos.popup</field>
        <field name="model">adt.expediente</field>
        <field name="arch" type="xml">
            <form string="Fotos de ingresos">
                <sheet>
                    <group>
                        <field name="foto_ingresos" widget="image"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <!-- POPUP RECIBO 1 -->
    <record id="view_foto_recibo_popup" model="ir.ui.view">
        <field name="name">foto.recibo.popup</field>
        <field name="model">adt.expediente</field>
        <field name="arch" type="xml">
            <form string="Recibo - Foto">
                <sheet>
                    <group>
                        <field name="foto_recibo" widget="image"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <!-- POPUP SENTINEL 1 -->
    <record id="view_foto_sentinel_1_popup" model="ir.ui.view">
        <field name="name">foto.sentinel.1.popup</field>
        <field name="model">adt.expediente</field>
        <field name="arch" type="xml">
            <form string="Sentinel - Score">
                <sheet>
                    <group>
                        <field name="foto_sentinel_1" widget="image"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <!-- POPUP SENTINEL 2 -->
    <record id="view_foto_sentinel_2_popup" model="ir.ui.view">
        <field name="name">foto.sentinel.2.popup</field>
        <field name="model">adt.expediente</field>
        <field name="arch" type="xml">
            <form string="Sentinel - Deudas">
                <sheet>
                    <group>
                        <field name="foto_sentinel_2" widget="image"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>


    <!-- POPUP FOTO LICENCIA -->
    <record id="view_foto_licencia_popup" model="ir.ui.view">
        <field name="name">foto.licencia.popup</field>
        <field name="model">adt.expediente</field>
        <field name="arch" type="xml">
            <form string="Foto licencia de conducir">
                <sheet>
                    <group>
                        <field name="foto_licencia" widget="image"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>


    <!-- POPUP FOTO ENTREGA -->
    <record id="view_foto_entrega_popup" model="ir.ui.view">
        <field name="name">foto.entrega.popup</field>
        <field name="model">adt.expediente</field>
        <field name="arch" type="xml">
            <form string="Foto con el cliente">
                <sheet>
                    <group>
                        <field name="foto_entrega" widget="image"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <!-- POPUP FOTO MOTO -->
    <record id="view_foto_moto_popup" model="ir.ui.view">
        <field name="name">foto.moto.popup</field>
        <field name="model">adt.expediente</field>
        <field name="arch" type="xml">
            <form string="Foto en la moto">
                <sheet>
                    <group>
                        <field name="foto_moto" widget="image"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <!-- POPUP FOTO SOAT -->
    <record id="view_foto_soat_popup" model="ir.ui.view">
        <field name="name">foto.soat.popup</field>
        <field name="model">adt.expediente</field>
        <field name="arch" type="xml">
            <form string="SOAT">
                <sheet>
                    <group>
                        <field name="foto_soat" widget="image"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <!-- POPUP TARJETA FRENTE -->
    <record id="view_foto_tarjeta_frente_popup" model="ir.ui.view">
        <field name="name">foto.tarjeta.frente.popup</field>
        <field name="model">adt.expediente</field>
        <field name="arch" type="xml">
            <form string="Tarjeta de propiedad - Frente">
                <sheet>
                    <group>
                        <field name="foto_tarjeta_propiedad_frente" widget="image"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <!-- POPUP TARJETA REVERSO -->
    <record id="view_foto_tarjeta_reverso_popup" model="ir.ui.view">
        <field name="name">foto.tarjeta.reverso.popup</field>
        <field name="model">adt.expediente</field>
        <field name="arch" type="xml">
            <form string="Tarjeta de propiedad - Reverso">
                <sheet>
                    <group>
                        <field name="foto_tarjeta_propiedad_reverso" widget="image"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <!-- POPUP LUGAR TRABAJO -->
    <record id="view_foto_lugar_trabajo_popup" model="ir.ui.view">
        <field name="name">foto.lugar.trabajo.popup</field>
        <field name="model">adt.expediente</field>
        <field name="arch" type="xml">
            <form string="Lugar de trabajo">
                <sheet>
                    <group>
                        <field name="foto_lugar_trabajo" widget="image"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <!-- POPUP LUGAR NEGOCIO -->
    <record id="view_foto_lugar_negocio_popup" model="ir.ui.view">
        <field name="name">foto.lugar.negocio.popup</field>
        <field name="model">adt.expediente</field>
        <field name="arch" type="xml">
            <form string="Lugar del negocio">
                <sheet>
                    <group>
                        <field name="foto_lugar_negocio" widget="image"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <!-- POPUP BOLETAS -->
    <record id="view_foto_boletas_popup" model="ir.ui.view">
        <field name="name">foto.boletas.popup</field>
        <field name="model">adt.expediente</field>
        <field name="arch" type="xml">
            <form string="Boletas / Contratos / Recibos">
                <sheet>
                    <group>
                        <field name="foto_boletas" widget="image"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <!-- POPUP ESTADO DE CUENTA -->
    <record id="view_foto_estado_cuenta_popup" model="ir.ui.view">
        <field name="name">foto.estado.cuenta.popup</field>
        <field name="model">adt.expediente</field>
        <field name="arch" type="xml">
            <form string="Estado de cuenta">
                <sheet>
                    <group>
                        <field name="foto_estado_cuenta" widget="image"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <!-- POPUP FOTO UBICACION -->
    <record id="view_foto_ubicacion_popup" model="ir.ui.view">
        <field name="name">foto.ubicacion.popup</field>
        <field name="model">adt.expediente</field>
        <field name="arch" type="xml">
            <form string="UbicaciÃ³n - Foto">
                <sheet>
                    <group>
                        <field name="foto_ubicacion_actual" widget="image"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <!-- POPUP FOTO FACHADA -->
    <record id="view_foto_fachada_popup" model="ir.ui.view">
        <field name="name">foto.fachada.popup</field>
        <field name="model">adt.expediente</field>
        <field name="arch" type="xml">
            <form string="Fachada - Foto">
                <sheet>
                    <group>
                        <field name="foto_fachada_domicilio" widget="image"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <!-- POPUP FOTO CONTRATO -->
    <record id="view_foto_contrato_popup" model="ir.ui.view">
        <field name="name">foto.contrato.popup</field>
        <field name="model">adt.expediente</field>
        <field name="arch" type="xml">
            <form string="Contrato - Foto">
                <sheet>
                    <group>
                        <field name="foto_contrato_alquiler" widget="image"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <!-- POPUP SENTINEL (combined) -->
    <record id="view_foto_sentinel_popup" model="ir.ui.view">
        <field name="name">foto.sentinel.popup</field>
        <field name="model">adt.expediente</field>
        <field name="arch" type="xml">
            <form string="Sentinel - ImÃ¡genes">
                <sheet>
                    <group>
                        <field name="foto_sentinel_1" widget="image"/>
                        <field name="foto_sentinel_2" widget="image"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <!-- POPUP DOCUMENTOS -->
    <record id="view_foto_dni_frente_popup" model="ir.ui.view">
        <field name="name">foto.dni.frente.popup</field>
        <field name="model">adt.expediente</field>
        <field name="arch" type="xml">
            <form string="DNI - Anverso">
                <sheet>
                    <group>
                        <field name="foto_dni_frente" widget="image"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <record id="view_foto_dni_reverso_popup" model="ir.ui.view">
        <field name="name">foto.dni.reverso.popup</field>
        <field name="model">adt.expediente</field>
        <field name="arch" type="xml">
            <form string="DNI - Reverso">
                <sheet>
                    <group>
                        <field name="foto_dni_reverso" widget="image"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>


    <!-- CE front/reverse popups -->
    <record id="view_foto_ce_frente_popup" model="ir.ui.view">
        <field name="name">foto.ce.frente.popup</field>
        <field name="model">adt.expediente</field>
        <field name="arch" type="xml">
            <form string="CE - Anverso">
                <sheet>
                    <group>
                        <field name="foto_ce_frente" widget="image"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <record id="view_foto_ce_reverso_popup" model="ir.ui.view">
        <field name="name">foto.ce.reverso.popup</field>
        <field name="model">adt.expediente</field>
        <field name="arch" type="xml">
            <form string="CE - Reverso">
                <sheet>
                    <group>
                        <field name="foto_ce_reverso" widget="image"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <!-- Passport front/reverse popups -->
    <record id="view_foto_pasaporte_frente_popup" model="ir.ui.view">
        <field name="name">foto.pasaporte.frente.popup</field>
        <field name="model">adt.expediente</field>
        <field name="arch" type="xml">
            <form string="Pasaporte - Anverso">
                <sheet>
                    <group>
                        <field name="foto_pasaporte_frente" widget="image"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <record id="view_foto_pasaporte_reverso_popup" model="ir.ui.view">
        <field name="name">foto.pasaporte.reverso.popup</field>
        <field name="model">adt.expediente</field>
        <field name="arch" type="xml">
            <form string="Pasaporte - Reverso">
                <sheet>
                    <group>
                        <field name="foto_pasaporte_reverso" widget="image"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>


    <!-- FORM VIEW -->
    <record id="view_adt_expediente_form" model="ir.ui.view">
        <field name="name">adt.expediente.form</field>
        <field name="model">adt.expediente</field>
        <field name="arch" type="xml">

            <form string="Expediente">

                <header>
                    <button string="Rechazar" name="action_rechazar" type="object" class="btn-danger"/>
                    <button string="Marcar incompleto - Expediente" name="action_mark_incompleto_expediente" type="object" class="btn-warning"/>
                    <button string="Marcar incompleto - Fase Final" name="action_mark_incompleto_fase_final" type="object" class="btn-warning"/>
                    <button string="Marcar Completo" name="action_mark_completo" type="object" class="btn-success"/>
                    <button name="%(adt_expedientes.action_adt_expediente_report)d" string="Descargar PDF" type="action" class="btn-primary"/>

                    <field name="state" widget="statusbar"
                           statusbar_visible="por_revisar,incompleto_expediente,incompleto_fase_final,completo,rechazado"/>
                </header>

                <sheet>

                    <group col="4">
                        <field name="cliente_id"/>
                        <!-- hidden field so attrs referencing cliente_nationality validate correctly -->
                        <field name="cliente_nationality"/>
                        <field name="cliente_nationality_code" invisible="1"/>
                        <!-- hidden field so attrs referencing cliente_occupation_code validate correctly -->
                        <field name="cliente_occupation_code" invisible="1"/>
                        <field name="cliente_occupation"/>
                        <field name="asesora_id"/>
                        <field name="fecha"/>
                    </group>


                    <separator string="VEHICULO"/>

                    <group>
                        <field name="vehiculo"/>
                    </group>

                    <separator string="REQUISITOS DEL EXPEDIENTE"/>

                    <group>

                        <!-- DNI (Peruano) -->
                        <div attrs="{'invisible': [('cliente_nationality_code','!=','peruana')]}">
                            <div class="o_form_label">
                                <strong>1. Documento de identidad</strong>
                            </div>
                            <separator/>

                            <div class="o_form_label">
                                <strong>DNI</strong>
                            </div>
                            <group>
                                <group col="1">

                                    <div class="o_form_label">DNI Anverso</div>
                                    <field name="foto_dni_frente" widget="binary" nolabel="1" attrs="{'invisible': [('cliente_nationality_code','!=','peruana')]}"/>
                                    <div attrs="{'invisible': [('foto_dni_frente','=',False)]}" class="text-success">
                                        âœ” Imagen cargada
                                    </div>
                                    <div attrs="{'invisible': [('foto_dni_frente','!=',False)]}" class="text-danger">
                                        âœ˜ Sin imagen
                                    </div>
                                    <button name="action_ver_foto_dni_frente" type="object" string="Ver anverso" class="btn-primary" attrs="{'invisible': [('foto_dni_frente','=',False)]}"/>


                                    <div class="o_form_label">DNI Reverso</div>
                                    <field name="foto_dni_reverso" widget="binary" nolabel="1" attrs="{'invisible': [('cliente_nationality_code','!=','peruana')]}"/>

                                    <div attrs="{'invisible': [('foto_dni_reverso','=',False)]}" class="text-success">
                                        âœ” Imagen cargada
                                    </div>
                                    <div attrs="{'invisible': [('foto_dni_reverso','!=',False)]}" class="text-danger">
                                        âœ˜ Sin imagen
                                    </div>
                                    <button name="action_ver_foto_dni_reverso" type="object" string="Ver reverso" class="btn-primary" attrs="{'invisible': [('foto_dni_reverso','=',False)]}"/>
                                </group>

                                <group col="2">

                                    <field name="estado_foto_dni" attrs="{'invisible': [('cliente_nationality_code','!=','peruana')]}"/>
                                    <field name="obs_foto_dni" placeholder="Motivo del rechazo..." nolabel="1" attrs="{'invisible': [('estado_foto_dni','!=','rechazado')]}"/>
                                </group>
                            </group>
                        </div>

                    </group>

                    <group>


                        <!-- EXTRANJERO: CE o Pasaporte -->
                        <div attrs="{'invisible': [('cliente_nationality_code','==','peruana')]}">

                            <div class="o_form_label">
                                <strong>1. Documento de identidad</strong>
                            </div>
                            <separator/>

                            <div class="o_form_label">
                                <strong>Carnet de ExtranjerÃ­a</strong>
                            </div>
                            <group >
                                <group col="1">

                                    <div class="o_form_label">Anverso</div>
                                    <field name="foto_ce_frente" widget="binary" nolabel="1" attrs="{'invisible': [('cliente_nationality_code','==','peruana')]}"/>
                                    <div attrs="{'invisible': [('foto_ce_frente','=',False)]}" class="text-success">
                                        âœ” Imagen cargada
                                    </div>
                                    <div attrs="{'invisible': [('foto_ce_frente','!=',False)]}" class="text-danger">
                                        âœ˜ Sin imagen
                                    </div>
                                    <button name="action_ver_foto_ce_frente" type="object" string="Ver" class="btn-primary" attrs="{'invisible': [('foto_ce_frente','=',False)]}"/>


                                    <div class="o_form_label">Reverso</div>
                                    <field name="foto_ce_reverso" widget="binary" nolabel="1" attrs="{'invisible': [('cliente_nationality_code','==','peruana')]}"/>
                                    <div attrs="{'invisible': [('foto_ce_reverso','=',False)]}" class="text-success">
                                        âœ” Imagen cargada
                                    </div>
                                    <div attrs="{'invisible': [('foto_ce_reverso','!=',False)]}" class="text-danger">
                                        âœ˜ Sin imagen
                                    </div>
                                    <button name="action_ver_foto_ce_reverso" type="object" string="Ver" class="btn-primary" attrs="{'invisible': [('foto_ce_reverso','=',False)]}"/>

                                </group>

                                <group col="2">
                                    <field name="estado_foto_ce" attrs="{'invisible': [('cliente_nationality_code','==','peruana')]}"/>
                                    <field name="obs_foto_ce" placeholder="Motivo del rechazo..." nolabel="1" attrs="{'invisible': [('estado_foto_ce','!=','rechazado')]}"/>
                                </group>

                            </group>


                            <div class="o_form_label">
                                <strong>Pasaporte</strong>
                            </div>
                            <separator/>

                            <group>
                                <group col="1">
                                    <div class="o_form_label">Anverso</div>
                                    <field name="foto_pasaporte_frente" widget="binary" nolabel="1" attrs="{'invisible': [('cliente_nationality_code','==','peruana')]}"/>
                                    <div attrs="{'invisible': [('foto_pasaporte_frente','=',False)]}" class="text-success">
                                        âœ” Imagen cargada
                                    </div>
                                    <div attrs="{'invisible': [('foto_pasaporte_frente','!=',False)]}" class="text-danger">
                                        âœ˜ Sin imagen
                                    </div>
                                    <button name="action_ver_foto_pasaporte_frente" type="object" string="Ver" class="btn-primary" attrs="{'invisible': [('foto_pasaporte_frente','=',False)]}"/>


                                    <div class="o_form_label">Reverso</div>
                                    <field name="foto_pasaporte_reverso" widget="binary" nolabel="1" attrs="{'invisible': [('cliente_nationality_code','==','peruana')]}"/>
                                    <div attrs="{'invisible': [('foto_pasaporte_reverso','=',False)]}" class="text-success">
                                        âœ” Imagen cargada
                                    </div>
                                    <div attrs="{'invisible': [('foto_pasaporte_reverso','!=',False)]}" class="text-danger">
                                        âœ˜ Sin imagen
                                    </div>
                                    <button name="action_ver_foto_pasaporte_reverso" type="object" string="Ver" class="btn-primary" attrs="{'invisible': [('foto_pasaporte_reverso','=',False)]}"/>

                                </group>

                                <group  col="2">
                                    <field name="estado_foto_pasaporte" attrs="{'invisible': [('cliente_nationality_code','==','peruana')]}"/>
                                    <field name="obs_foto_pasaporte" placeholder="Motivo del rechazo..." nolabel="1" attrs="{'invisible': [('estado_foto_pasaporte','!=','rechazado')]}"/>
                                </group>
                            </group>

                        </div>

                    </group>

                    <!-- LICENCIA -->
                    <group>
                        <group col="1">
                            <div class="o_form_label">
                                <strong>2. Licencia</strong>
                            </div>

                            <field name="foto_licencia" widget="binary" nolabel="1"/>

                            <div attrs="{'invisible': [('foto_licencia','=',False)]}" class="text-success">
                                âœ” Imagen cargada
                            </div>
                            <div attrs="{'invisible': [('foto_licencia','!=',False)]}" class="text-danger">
                                âœ˜ Sin imagen
                            </div>

                            <button name="action_ver_foto_licencia"
                                    type="object"
                                    string="Ver imagen"
                                    class="btn-primary"
                                    attrs="{'invisible': [('foto_licencia','=',False)]}"/>
                        </group>

                        <group col="2">
                            <field name="estado_foto_licencia" string="Estado"/>

                            <field name="obs_foto_licencia"
                                   placeholder="Motivo del rechazo..."
                                   nolabel="1"
                                   attrs="{'invisible': [('estado_foto_licencia','!=','rechazado')]}"/>
                        </group>
                    </group>

                    <!-- RECIBO LUZ/AGUA -->
                    <group>
                        <group col="1">
                            <div class="o_form_label">
                                <strong>3. Recibo de luz o agua (Ãºltimos 2 meses)</strong>
                            </div>

                            <group col="2">
                                <group>
                                    <field name="foto_recibo" widget="binary" nolabel="1"/>
                                    <div attrs="{'invisible': [('foto_recibo','=',False)]}" class="text-success">âœ” Imagen cargada</div>
                                    <div attrs="{'invisible': [('foto_recibo','!=',False)]}" class="text-danger">âœ˜ Sin imagen</div>
                                    <button name="action_ver_foto_recibo" type="object" string="Ver" class="btn-primary" attrs="{'invisible': [('foto_recibo','=',False)]}"/>
                                </group>

                            </group>

                        </group>

                        <group col="2">
                            <field name="estado_foto_recibo" string="Estado"/>
                            <field name="obs_foto_recibo" placeholder="Motivo del rechazo..." nolabel="1" attrs="{'invisible': [('estado_foto_recibo','!=','rechazado')]}"/>
                        </group>
                    </group>

                    <!-- SENTINEL / SCORE -->
                    <group>

                        <div class="o_form_label">
                            <strong>4. Sentinel - Score / Deudas</strong>
                        </div>

                        <group col="1">

                            <div class="o_form_label">Score (Imagen)</div>
                            <field name="foto_sentinel_1" widget="binary" nolabel="1"/>
                            <div attrs="{'invisible': [('foto_sentinel_1','=',False)]}" class="text-success">âœ” Imagen cargada</div>
                            <div attrs="{'invisible': [('foto_sentinel_1','!=',False)]}" class="text-danger">âœ˜ Sin imagen</div>
                            <button name="action_ver_foto_sentinel_1" type="object" string="Ver" class="btn-primary" attrs="{'invisible': [('foto_sentinel_1','=',False)]}"/>

                            <div class="o_form_label">Deudas / Servicios (Imagen)</div>
                            <field name="foto_sentinel_2" widget="binary" nolabel="1"/>
                            <div attrs="{'invisible': [('foto_sentinel_2','=',False)]}" class="text-success">âœ” Imagen cargada</div>
                            <div attrs="{'invisible': [('foto_sentinel_2','!=',False)]}" class="text-danger">âœ˜ Sin imagen</div>
                            <button name="action_ver_foto_sentinel_2" type="object" string="Ver" class="btn-primary" attrs="{'invisible': [('foto_sentinel_2','=',False)]}"/>


                        </group>

                        <group col="2">
                            <field name="estado_foto_sentinel" string="Estado"/>
                            <field name="obs_foto_sentinel" placeholder="Motivo del rechazo..." nolabel="1" attrs="{'invisible': [('estado_foto_sentinel','!=','rechazado')]}"/>
                        </group>
                    </group>

                    <!-- MOTOTAXISTA: visible only if cliente_occupation_code == 'mototaxista' -->
                    <group attrs="{'invisible': [('cliente_occupation_code','!=','mototaxista')]}" string="MOTOTAXISTA">
                        <div class="o_form_label"><strong>5. Documentos mototaxista</strong></div>

                    </group>

                    <!-- Foto en la moto -->
                    <group attrs="{'invisible': [('cliente_occupation_code','!=','mototaxista')]}">
                        <group col="1">
                            <div class="o_form_label">Foto en la moto</div>
                            <field name="foto_moto" widget="binary" nolabel="1"/>
                            <div attrs="{'invisible': [('foto_moto','=',False)]}" class="text-success">âœ” Imagen cargada</div>
                            <div attrs="{'invisible': [('foto_moto','!=',False)]}" class="text-danger">âœ˜ Sin imagen</div>
                            <button name="action_ver_foto_moto" type="object" string="Ver" class="btn-primary" attrs="{'invisible': [('foto_moto','=',False)]}"/>
                        </group>
                        <group col="2">
                            <field name="estado_foto_moto" string="Estado"/>
                            <field name="obs_foto_moto" placeholder="Motivo del rechazo..." nolabel="1" attrs="{'invisible': [('estado_foto_moto','!=','rechazado')]}"/>
                        </group>
                    </group>

                    <!-- SOAT -->
                    <group attrs="{'invisible': [('cliente_occupation_code','!=','mototaxista')]}">
                        <group col="1">
                            <div class="o_form_label">SOAT</div>
                            <field name="foto_soat" widget="binary" nolabel="1"/>
                            <div attrs="{'invisible': [('foto_soat','=',False)]}" class="text-success">âœ” Imagen cargada</div>
                            <div attrs="{'invisible': [('foto_soat','!=',False)]}" class="text-danger">âœ˜ Sin imagen</div>
                            <button name="action_ver_foto_soat" type="object" string="Ver" class="btn-primary" attrs="{'invisible': [('foto_soat','=',False)]}"/>
                        </group>
                        <group col="2">
                            <field name="estado_foto_soat" string="Estado"/>
                            <field name="obs_foto_soat" placeholder="Motivo del rechazo..." nolabel="1" attrs="{'invisible': [('estado_foto_soat','!=','rechazado')]}"/>
                        </group>
                    </group>

                    <!-- Tarjeta de propiedad (frente + reverso) -->
                    <group attrs="{'invisible': [('cliente_occupation_code','!=','mototaxista')]}">
                        <group col="1">
                            <div class="o_form_label">Tarjeta de propiedad - Frente</div>
                            <field name="foto_tarjeta_propiedad_frente" widget="binary" nolabel="1"/>
                            <div attrs="{'invisible': [('foto_tarjeta_propiedad_frente','=',False)]}" class="text-success">âœ” Imagen cargada</div>
                            <div attrs="{'invisible': [('foto_tarjeta_propiedad_frente','!=',False)]}" class="text-danger">âœ˜ Sin imagen</div>
                            <button name="action_ver_foto_tarjeta_frente" type="object" string="Ver frente" class="btn-primary" attrs="{'invisible': [('foto_tarjeta_propiedad_frente','=',False)]}"/>

                            <div class="o_form_label">Tarjeta de propiedad - Reverso</div>
                            <field name="foto_tarjeta_propiedad_reverso" widget="binary" nolabel="1"/>
                            <div attrs="{'invisible': [('foto_tarjeta_propiedad_reverso','=',False)]}" class="text-success">âœ” Imagen cargada</div>
                            <div attrs="{'invisible': [('foto_tarjeta_propiedad_reverso','!=',False)]}" class="text-danger">âœ˜ Sin imagen</div>
                            <button name="action_ver_foto_tarjeta_reverso" type="object" string="Ver reverso" class="btn-primary" attrs="{'invisible': [('foto_tarjeta_propiedad_reverso','=',False)]}"/>
                        </group>
                        <group col="2">
                            <field name="estado_foto_tarjeta" string="Estado"/>
                            <field name="obs_foto_tarjeta" placeholder="Motivo del rechazo..." nolabel="1" attrs="{'invisible': [('estado_foto_tarjeta','!=','rechazado')]}"/>
                        </group>
                    </group>

                    <!-- Datos adicionales mototaxista -->
                    <group attrs="{'invisible': [('cliente_occupation_code','!=','mototaxista')]}">
                        <group>
                            <field name="ganancia_diaria_mensual"/>
                            <field name="tiempo_trabajando"/>
                            <field name="moto_empresa"/>
                            <field name="moto_propiedad"/>
                        </group>
                    </group>


                    <!-- NO MOTOTAXISTA: visible when occupation != mototaxista -->
                    <group attrs="{'invisible': [('cliente_occupation_code','=','mototaxista')]}" string="NO MOTOTAXISTA">
                        <div class="o_form_label"><strong>5. Documentos trabajo independiente</strong></div>
                    </group>

                    <!-- Lugar de trabajo -->
                    <group attrs="{'invisible': [('cliente_occupation_code','=','mototaxista')]}">
                        <group col="1">
                            <div class="o_form_label">Lugar de trabajo</div>
                            <field name="foto_lugar_trabajo" widget="binary" nolabel="1"/>
                            <div attrs="{'invisible': [('foto_lugar_trabajo','=',False)]}" class="text-success">âœ” Imagen cargada</div>
                            <div attrs="{'invisible': [('foto_lugar_trabajo','!=',False)]}" class="text-danger">âœ˜ Sin imagen</div>
                            <button name="action_ver_foto_lugar_trabajo" type="object" string="Ver" class="btn-primary" attrs="{'invisible': [('foto_lugar_trabajo','=',False)]}"/>
                        </group>
                        <group col="2">
                            <field name="estado_foto_lugar_trabajo" string="Estado"/>
                            <field name="obs_foto_lugar_trabajo" placeholder="Motivo del rechazo..." nolabel="1" attrs="{'invisible': [('estado_foto_lugar_trabajo','!=','rechazado')]}"/>
                        </group>
                    </group>

                    <!-- Lugar del negocio -->
                    <group attrs="{'invisible': [('cliente_occupation_code','=','mototaxista')]}">
                        <group col="1">
                            <div class="o_form_label">Lugar del negocio</div>
                            <field name="foto_lugar_negocio" widget="binary" nolabel="1"/>
                            <div attrs="{'invisible': [('foto_lugar_negocio','=',False)]}" class="text-success">âœ” Imagen cargada</div>
                            <div attrs="{'invisible': [('foto_lugar_negocio','!=',False)]}" class="text-danger">âœ˜ Sin imagen</div>
                            <button name="action_ver_foto_lugar_negocio" type="object" string="Ver" class="btn-primary" attrs="{'invisible': [('foto_lugar_negocio','=',False)]}"/>
                        </group>
                        <group col="2">
                            <field name="estado_foto_lugar_negocio" string="Estado"/>
                            <field name="obs_foto_lugar_negocio" placeholder="Motivo del rechazo..." nolabel="1" attrs="{'invisible': [('estado_foto_lugar_negocio','!=','rechazado')]}"/>
                        </group>
                    </group>

                    <!-- Boletas / Contrato / Recibos -->
                    <group attrs="{'invisible': [('cliente_occupation_code','=','mototaxista')]}">
                        <group col="1">
                            <div class="o_form_label">Boletas / Contrato / Recibos</div>
                            <field name="foto_boletas" widget="binary" nolabel="1"/>
                            <div attrs="{'invisible': [('foto_boletas','=',False)]}" class="text-success">âœ” Imagen cargada</div>
                            <div attrs="{'invisible': [('foto_boletas','!=',False)]}" class="text-danger">âœ˜ Sin imagen</div>
                            <button name="action_ver_foto_boletas" type="object" string="Ver" class="btn-primary" attrs="{'invisible': [('foto_boletas','=',False)]}"/>
                        </group>
                        <group col="2">
                            <field name="estado_foto_boletas" string="Estado"/>
                            <field name="obs_foto_boletas" placeholder="Motivo del rechazo..." nolabel="1" attrs="{'invisible': [('estado_foto_boletas','!=','rechazado')]}"/>
                        </group>
                    </group>

                    <!-- Estado de cuenta -->
                    <group attrs="{'invisible': [('cliente_occupation_code','=','mototaxista')]}">
                        <group col="1">
                            <div class="o_form_label">Estado de cuenta</div>
                            <field name="foto_estado_cuenta" widget="binary" nolabel="1"/>
                            <div attrs="{'invisible': [('foto_estado_cuenta','=',False)]}" class="text-success">âœ” Imagen cargada</div>
                            <div attrs="{'invisible': [('foto_estado_cuenta','!=',False)]}" class="text-danger">âœ˜ Sin imagen</div>
                            <button name="action_ver_foto_estado_cuenta" type="object" string="Ver" class="btn-primary" attrs="{'invisible': [('foto_estado_cuenta','=',False)]}"/>
                        </group>
                        <group col="2">
                            <field name="estado_foto_estado_cuenta" string="Estado"/>
                            <field name="obs_foto_estado_cuenta" placeholder="Motivo del rechazo..." nolabel="1" attrs="{'invisible': [('estado_foto_estado_cuenta','!=','rechazado')]}"/>
                        </group>
                    </group>

                    <!-- Datos adicionales no-mototaxista -->
                    <group attrs="{'invisible': [('cliente_occupation_code','=','mototaxista')]}">
                        <group>
                            <field name="ganancia_diaria_mensual_no"/>
                            <field name="tiempo_trabajando_no"/>
                        </group>
                    </group>


                    <!-- UBICACIÃ“N Y FACHADA DEL DOMICILIO -->
                    <group>
                        <div class="o_form_label"><strong>6. UbicaciÃ³n y fachada del domicilio</strong></div>
                    </group>

                    <!-- UbicaciÃ³n en tiempo actual -->
                    <group>
                        <group>
                            <div class="o_form_label">UbicaciÃ³n en tiempo actual - FOTO</div>
                            <field name="foto_ubicacion_actual" widget="binary" nolabel="1"/>
                            <div attrs="{'invisible': [('foto_ubicacion_actual','=',False)]}" class="text-success">âœ” Imagen cargada</div>
                            <div attrs="{'invisible': [('foto_ubicacion_actual','!=',False)]}" class="text-danger">âœ˜ Sin imagen</div>
                            <button name="action_ver_foto_ubicacion" type="object" string="Ver" class="btn-primary" attrs="{'invisible': [('foto_ubicacion_actual','=',False)]}"/>
                        </group>
                        <group>
                            <field name="estado_foto_ubicacion" string="Estado"/>
                            <field name="obs_foto_ubicacion" placeholder="Motivo del rechazo..." nolabel="1" attrs="{'invisible': [('estado_foto_ubicacion','!=','rechazado')]}"/>
                        </group>
                    </group>

                    <!-- Fachada con cliente -->
                    <group>
                        <group>
                            <div class="o_form_label">Fachada de domicilio con el cliente en la puerta - FOTO</div>
                            <field name="foto_fachada_domicilio" widget="binary" nolabel="1"/>
                            <div attrs="{'invisible': [('foto_fachada_domicilio','=',False)]}" class="text-success">âœ” Imagen cargada</div>
                            <div attrs="{'invisible': [('foto_fachada_domicilio','!=',False)]}" class="text-danger">âœ˜ Sin imagen</div>
                            <button name="action_ver_foto_fachada" type="object" string="Ver" class="btn-primary" attrs="{'invisible': [('foto_fachada_domicilio','=',False)]}"/>
                        </group>
                        <group>
                            <field name="estado_foto_fachada" string="Estado"/>
                            <field name="obs_foto_fachada" placeholder="Motivo del rechazo..." nolabel="1" attrs="{'invisible': [('estado_foto_fachada','!=','rechazado')]}"/>
                        </group>
                    </group>


                    <!-- Tiempo viviendo y tipo de vivienda -->
                    <group>
                        <group>
                            <field name="tipo_vivienda"/>
                            <field name="propietario_contacto" string="NÃºmero del dueÃ±o / contacto"  attrs="{'invisible': [('tipo_vivienda','!=','alquilada')]}" />
                            <field name="tiempo_viviendo"/>
                        </group>
                    </group>


                    <!-- Contrato o numero del dueÃ±o (visible solo si la vivienda es alquilada) -->
                    <group attrs="{'invisible': [('tipo_vivienda','!=','alquilada')]}" string="Contrato / Propietario">
                        <group>
                            <div class="o_form_label">Si vive alquilado: contrato (FOTO)</div>
                            <field name="foto_contrato_alquiler" widget="binary" nolabel="1"/>
                            <div attrs="{'invisible': [('foto_contrato_alquiler','=',False)]}" class="text-success">âœ” Imagen cargada</div>
                            <div attrs="{'invisible': [('foto_contrato_alquiler','!=',False)]}" class="text-danger">âœ˜ Sin imagen</div>
                            <button name="action_ver_foto_contrato" type="object" string="Ver" class="btn-primary" attrs="{'invisible': [('foto_contrato_alquiler','=',False)]}"/>
                        </group>
                        <group>
                            <field name="estado_foto_contrato" string="Estado"/>
                            <field name="obs_foto_contrato" placeholder="Motivo del rechazo..." nolabel="1" attrs="{'invisible': [('estado_foto_contrato','!=','rechazado')]}"/>
                        </group>
                    </group>


                    <group>
                        <div class="o_form_label">
                            <strong>7. Referencias (hasta 4)</strong>
                        </div>
                    </group>


                    <separator string="FASE FINAL"/>

                    <group col="3">

                        <!-- COLUMNA 1: FOTO ENTREGA -->
                        <group>
                            <div class="o_form_label">ðŸ“¸ Foto con cliente</div>

                            <field name="foto_entrega" widget="binary"/>

                            <div attrs="{'invisible': [('foto_entrega','=',False)]}" class="text-success">
                                âœ” Imagen registrada
                            </div>
                            <div attrs="{'invisible': [('foto_entrega','!=',False)]}" class="text-danger">
                                âœ˜ Sin imagen
                            </div>

                            <button name="action_ver_foto_entrega"
                                    type="object"
                                    string="Ver imagen"
                                    class="btn-primary"
                                    attrs="{'invisible': [('foto_entrega','=',False)]}"/>
                        </group>

                        <!-- COLUMNA 2: PLACA -->
                        <group>
                            <field name="placa" string="ðŸš— Placa"/>
                        </group>

                        <!-- COLUMNA 3: CHASIS -->
                        <group>
                            <field name="chasis" string="ðŸ”© Chasis"/>
                        </group>

                    </group>

                    <group string="MOTIVOS DE RECHAZO"
                           attrs="{'invisible': [('state', '!=', 'rechazado')]}">

                        <field name="fecha_rechazo" readonly="1"/>
                        <field name="motivo_rechazo" readonly="1"/>

                    </group>


                </sheet>

            </form>
        </field>
    </record>

    <!-- TREE -->
    <record id="view_adt_expediente_tree" model="ir.ui.view">
        <field name="name">adt.expediente.tree</field>
        <field name="model">adt.expediente</field>
        <field name="arch" type="xml">
            <tree>
                <field name="id" string="Expediente #"/>
                <field name="cliente_id"/>
                <field name="asesora_id"/>
                <field name="fecha"/>

                <field name="state"
                       widget="badge"
                       decoration-info="state == 'por_revisar'"
                       decoration-warning="(state == 'incompleto_expediente') or (state == 'incompleto_fase_final')"
                       decoration-success="state == 'completo'"
                       decoration-danger="state == 'rechazado'"/>

            </tree>
        </field>
    </record>




    <!-- ACTION -->
    <record id="action_adt_expediente" model="ir.actions.act_window">
        <field name="name">Expedientes</field>
        <field name="res_model">adt.expediente</field>
        <field name="view_mode">tree,form</field>
    </record>


    <record id="action_adt_expediente_por_revisar" model="ir.actions.act_window">
        <field name="name">Expedientes - Por revisar</field>
        <field name="res_model">adt.expediente</field>
        <field name="view_mode">tree,form</field>
        <field name="domain">[('state','=','por_revisar')]</field>
    </record>

    <record id="action_adt_expediente_incompleto_expediente" model="ir.actions.act_window">
        <field name="name">Expedientes - Incompletos (Expediente)</field>
        <field name="res_model">adt.expediente</field>
        <field name="view_mode">tree,form</field>
        <field name="domain">[('state','=','incompleto_expediente')]</field>
    </record>

    <record id="action_adt_expediente_incompleto_fase_final" model="ir.actions.act_window">
        <field name="name">Expedientes - Incompletos (Fase Final)</field>
        <field name="res_model">adt.expediente</field>
        <field name="view_mode">tree,form</field>
        <field name="domain">[('state','=','incompleto_fase_final')]</field>
    </record>

    <record id="action_adt_expediente_completos" model="ir.actions.act_window">
        <field name="name">Expedientes - Completos</field>
        <field name="res_model">adt.expediente</field>
        <field name="view_mode">tree,form</field>
        <field name="domain">[('state','=','completo')]</field>
    </record>

    <record id="action_adt_expediente_rechazados" model="ir.actions.act_window">
        <field name="name">Expedientes - Rechazados</field>
        <field name="res_model">adt.expediente</field>
        <field name="view_mode">tree,form</field>
        <field name="domain">[('state','=','rechazado')]</field>
    </record>





    <!-- MENU -->
    <!-- MENU ROOT -->
    <menuitem id="menu_adt_root" name="Expedientes"/>

    <menuitem id="menu_adt_expedientes_todos"
              name="Todos"
              parent="menu_adt_root"
              action="action_adt_expediente"/>

    <menuitem id="menu_adt_expedientes_por_revisar"
              name="Por revisar"
              parent="menu_adt_root"
              action="action_adt_expediente_por_revisar"/>

    <!-- Menu entries for the two separate incompleto actions -->
    <menuitem id="menu_adt_expedientes_incompletos_expediente"
              name="Incompletos - Expediente"
              parent="menu_adt_root"
              action="action_adt_expediente_incompleto_expediente"/>

    <menuitem id="menu_adt_expedientes_incompletos_fase_final"
              name="Incompletos - Fase Final"
              parent="menu_adt_root"
              action="action_adt_expediente_incompleto_fase_final"/>

    <menuitem id="menu_adt_expedientes_completos"
              name="Completos"
              parent="menu_adt_root"
              action="action_adt_expediente_completos"/>

    <menuitem id="menu_adt_expedientes_rechazados"
              name="Rechazados"
              parent="menu_adt_root"
              action="action_adt_expediente_rechazados"/>






</odoo>
